# 云开发 quickstart

这是云开发的快速启动指引，其中演示了如何上手使用云开发的三大基础能力：

- 数据库：一个既可在小程序前端操作，也能在云函数中读写的 JSON 文档型数据库
- 文件存储：在小程序前端直接上传/下载云端文件，在云开发控制台可视化管理
- 云函数：在云端运行的代码，微信私有协议天然鉴权，开发者只需编写业务逻辑代码

# 仙炙轩菜谱

## 实现功能

#### 1.授权模块

* 先去检测有没有授权（在onshow里面去检测）
  授权则可以直接获取用户信息，
	没有授权则提醒用户去授权

* 没有授权的时候，点击登录按钮，进行授权，获取用户信息

#### 2.执行登录

wx.login 与 wx.getUserInfo

* 点击登录按钮，用户是否允许授权，允许则获取用户信息, isLogin设置为true
* 利用云函数获取openid ，利用openid查询数据库users 判断一下是不是新用户，如果是新用户，存于数据表，再存入缓存中，如果是老用户，直接缓存信息
* 拒绝则提示用户登录失败
#### 3.菜单分类
* 只有管理员可以进行菜单分类管理
* 对菜单分类进行增删改查操作
#### 4.菜谱发布
* 获取全部分类并渲染
* 图片选择
* 图片删除
* 多文件上传(拼接图片地址)
* 将菜单名称、菜谱分类、菜谱图片和菜品做法添加到云数据库中
#### 5.个人中心
* 选项卡操作
* 菜谱查询
* 菜谱删除

#### 6.首页
* 获取首页热门菜谱
* 首页分类获取
* 点击分类按钮, 进入其他页面

#### 7.菜谱列表
* 通过首页或者分类页，点击分类进入list页面
* 通过点击首页热门菜谱按钮，进入list页面
* 搜索进入list页面
* 接受其他页面的参数
* 根据typeid请求数据
* 处理用户信息

#### 8.详情页面
* 首页菜谱进入详情页面
* 获取菜谱的数据，进行渲染
#### 9.订单详情
* 更新views字段
* 关注和取消关注
* 联系客服
#### 10.搜索页面
* 通过搜索框搜索


